{"version":3,"file":"CanvasDOMOverlay-DhqylH3l.js","sources":["../../../src/r3f/components/CanvasDOMOverlay.jsx"],"sourcesContent":["import { useMemo, useEffect, StrictMode, forwardRef } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { useThree } from '@react-three/fiber';\n\n// Utility class for overlaying dom elements on top of the canvas\nexport const CanvasDOMOverlay = forwardRef( function CanvasDOMOverlay( { children, ...rest }, ref ) {\n\n\t// create the dom element and react root\n\tconst [ gl ] = useThree( state => [ state.gl ] );\n\tconst container = useMemo( () => document.createElement( 'div' ), [] );\n\tconst root = useMemo( () => createRoot( container ), [ container ] );\n\n\t// position the container\n\tuseEffect( () => {\n\n\t\tcontainer.style.pointerEvents = 'none';\n\t\tcontainer.style.position = 'absolute';\n\t\tcontainer.style.width = '100%';\n\t\tcontainer.style.height = '100%';\n\t\tcontainer.style.left = 0;\n\t\tcontainer.style.top = 0;\n\t\tgl.domElement.parentNode.appendChild( container );\n\n\t\treturn () => {\n\n\t\t\tcontainer.remove();\n\n\t\t};\n\n\t}, [ container, gl.domElement.parentNode ] );\n\n\t// render the children into the container\n\troot.render(\n\t\t<StrictMode>\n\t\t\t<div { ...rest } ref={ ref }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</StrictMode>\n\t);\n\n} );\n"],"names":["CanvasDOMOverlay","forwardRef","children","rest","ref","gl","useThree","state","container","useMemo","root","createRoot","useEffect","jsx","StrictMode"],"mappings":"sEAKa,MAAAA,EAAmBC,aAAY,SAA2B,CAAE,SAAAC,EAAU,GAAGC,CAAK,EAAGC,EAAM,CAG7F,KAAA,CAAEC,CAAG,EAAIC,KAAmB,CAAEC,EAAM,EAAG,CAAE,EACzCC,EAAYC,EAAAA,QAAS,IAAM,SAAS,cAAe,KAAM,EAAG,EAAG,EAC/DC,EAAOD,EAAAA,QAAS,IAAME,EAAAA,WAAYH,CAAU,EAAG,CAAEA,CAAU,CAAE,EAGnEI,EAAAA,UAAW,KAEVJ,EAAU,MAAM,cAAgB,OAChCA,EAAU,MAAM,SAAW,WAC3BA,EAAU,MAAM,MAAQ,OACxBA,EAAU,MAAM,OAAS,OACzBA,EAAU,MAAM,KAAO,EACvBA,EAAU,MAAM,IAAM,EACnBH,EAAA,WAAW,WAAW,YAAaG,CAAU,EAEzC,IAAM,CAEZA,EAAU,OAAO,CAElB,GAEE,CAAEA,EAAWH,EAAG,WAAW,UAAW,CAAE,EAGtCK,EAAA,OACJG,EAAAA,IAACC,cACA,SAACD,MAAA,MAAA,CAAM,GAAGV,EAAO,IAAAC,EACd,SAAAF,EACH,CACD,CAAA,CACD,CAED,CAAE"}